:root{
  --bg:#111; --bg2:#0c0c0c; --panel:#181818; --panel2:#1f1f1f;
  --text:#fafafa; --muted:#c7c7c7; --border:#2b2b2b;
  --brand:#2f6dff; --brand2:#2455cc;
  --danger:#ff6b6b; --warn:#facc15; --warn2:#eab308; --purple:#8b5cf6; --purple2:#7c3aed;
  --y:#ffd54f; /* 機械設定・個数の黄色 */
  --radius:12px;
  --label-w:96px;
  --input-w:8ch; /* 00000.0 が入る幅 */
}

html,body{background:linear-gradient(180deg,var(--bg),var(--bg2) 60%); color:var(--text);}
body{
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans JP",sans-serif;
  padding:16px; max-width:900px; margin:auto; -webkit-tap-highlight-color:transparent; -webkit-text-size-adjust:100%;
}
h1{margin:0 0 10px; font-size:20px; line-height:1.25; font-weight:700;}
.unit-note{color:var(--muted); font-size:13px; margin:0 0 12px;}

.settings{
  background:var(--panel2); border:1px solid var(--border); border-radius:12px; padding:12px;
  display:grid; grid-template-columns: 1fr 1fr; gap:12px 16px;
}
.s-row{ display:grid; grid-template-columns: var(--label-w) auto; align-items:center; gap:6px 8px; }
.s-label{ color:var(--muted); font-size:14px; }
.s-row > div{ display:inline-flex; align-items:center; gap:6px; }
.unit{ color:var(--muted); font-size:13px; white-space:nowrap; line-height:1; }

input{
  width:var(--input-w); max-width:100%;
  padding:10px 12px; font-size:16px; line-height:1.2;
  border:1px solid var(--border); border-radius:var(--radius);
  background:#2a2a2a; color:var(--text);
  box-shadow:0 1px 0 rgba(255,255,255,.03) inset, 0 1px 8px rgba(0,0,0,.25);
}
input:focus{ outline:none; background:#343434; border-color:#3e3e3e; }

/* 切断入力（表計算風） */
h3{margin:16px 0 10px; font-size:16px;}
.input-sheet{ background:var(--panel2); border:1px solid var(--border); border-radius:12px; padding:10px; }
.sheet-head{ display:grid; grid-template-columns: 1fr 1fr; gap:8px 16px; padding:2px 2px 8px; color:var(--muted); font-size:13px; }
#cutInputs{ display:grid; grid-template-columns: 1fr 1fr; gap:10px 16px; }
.cut-input{ display:contents; }
.cut-input .length,.cut-input .qty{ width:var(--input-w); }

/* ボタン */
.btn{
  background:var(--brand); color:#fff; border:none; border-radius:var(--radius);
  cursor:pointer; padding:12px 16px; font-size:16px; min-height:44px; line-height:1.2;
  box-shadow:0 2px 10px rgba(0,0,0,.35);
  white-space:nowrap;
}
.btn:hover{ background:var(--brand2); }
.btn-calc{ background:var(--warn); color:#111; }
.btn-calc:hover{ background:var(--warn2); }
.btn-reset{ background:#ef4444; }
.btn-reset:hover{ background:#dc2626; }
.btn-secret{ background:var(--purple); }
.btn-secret:hover{ background:var(--purple2); }

.btn-row{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap:10px; margin-top:10px;
}

.presets{ margin-top:14px; }
.presets-head{ display:flex; justify-content:space-between; align-items:flex-end; margin-bottom:6px; }
.subtle{ color:var(--muted); font-size:12px; }

/* 出力テーブル */
.result{ margin-top:14px; padding:16px; background:var(--panel2); border:1px solid var(--border); border-radius:14px; font-size:15px; line-height:1.65; letter-spacing:.2px; white-space:normal; }
.y{ color:var(--y); font-weight:600; }
.danger{ color:#ff6b6b; font-weight:700; }

.table-wrap{ margin-top:12px; background:var(--panel2); border:1px solid var(--border); border-radius:12px; overflow:auto; }
.table{ width:100%; min-width:760px; border-collapse:separate; border-spacing:0; font-size:15px; line-height:1.5; }
.table th,.table td{ padding:10px 12px; border-bottom:1px solid var(--border); white-space:nowrap; }
.table thead th{ position:sticky; top:0; background:var(--panel2); z-index:1; text-align:left; color:var(--muted); font-weight:600; backdrop-filter:blur(4px); }
.num{ text-align:right; font-variant-numeric:tabular-nums; }
.group-head{ font-weight:600; }
.table tr:last-child td{ border-bottom:none; }

@media (max-width:560px){
  .settings{ grid-template-columns: 1fr; }
}
/* === 準最適モードの背景（薄紫系） === */
body.semi-mode{
  /* 見た目は控えめな薄紫。必要なら色は調整してください */
  background: linear-gradient(180deg, #1c1424, #221a2b 60%) !important;
}
